#!/usr/bin/env bash

mkdir -p .

if ! command -v gdalinfo &> /dev/null
then
  echo "Error: gdalinfo could not be found. Please install GDAL."
  exit 1
fi
if ! command -v gdalbuildvrt &> /dev/null
then
  echo "Error: gdalbuildvrt could not be found. Please install GDAL."
  exit 1
fi
if ! command -v gdal_translate &> /dev/null
then
  echo "Error: gdal_translate could not be found. Please install GDAL."
  exit 1
fi
if ! command -v gdalwarp &> /dev/null
then
  echo "Error: gdalwarp could not be found. Please install GDAL."
  exit 1
fi
if ! command -v jq &> /dev/null
then
  echo "Error: jq could not be found. Please install jq: https://jqlang.github.io/jq/."
  exit 1
fi

if ! [ -f ./c21d3a8cff2ff76f.jpg ]; then
  echo "Image file does not exist: ./c21d3a8cff2ff76f.jpg"
  echo "This script expects a full-size source images for each georeferenced map it processes. See the README for more information."
  exit 1
fi

required_width_c21d3a8cff2ff76f_c969e4bba21381cf=5207
required_height_c21d3a8cff2ff76f_c969e4bba21381cf=7446

width_c21d3a8cff2ff76f_c969e4bba21381cf=( $(gdalinfo -json ./c21d3a8cff2ff76f.jpg | jq '.size[0]') )
height_c21d3a8cff2ff76f_c969e4bba21381cf=( $(gdalinfo -json ./c21d3a8cff2ff76f.jpg | jq '.size[1]') )

if [ "$width_c21d3a8cff2ff76f_c969e4bba21381cf" -eq "$required_width_c21d3a8cff2ff76f_c969e4bba21381cf" ] &&
   [ "$height_c21d3a8cff2ff76f_c969e4bba21381cf" -eq "$required_height_c21d3a8cff2ff76f_c969e4bba21381cf" ]; then
    echo "Found image with correct size: ./c21d3a8cff2ff76f.jpg"
else
    echo "Error: found image with incorrect size"
    echo "  Image: ./c21d3a8cff2ff76f.jpg"
    echo "  Expected: $required_width_c21d3a8cff2ff76f_c969e4bba21381cf x $required_height_c21d3a8cff2ff76f_c969e4bba21381cf"
    echo "  Found: $width_c21d3a8cff2ff76f_c969e4bba21381cf x $height_c21d3a8cff2ff76f_c969e4bba21381cf"
    exit 1
fi
gdal_translate -of vrt \
  -a_srs 'EPSG:3857' \
  -gcp 3103 3990 2458826.3258427577 14507748.138380978 \
-gcp 1529 2742 1226049.933659445 15367511.832901828 \
-gcp 3153 2208 2537097.842918102 15865881.256943706 \
-gcp 2501 2918 2030778.9675292643 15297801.263053764 \
-gcp 2499 2700 2015491.5618235322 15472077.68741085 \
-gcp 1835 4448 1639421.3827091593 14184878.130992604 \
-gcp 2335 2650 1894415.3090615515 15510601.949347788 \
-gcp 2861 4050 2296168.329721478 14475338.83843473 \
-gcp 1829 4082 1577048.7675588813 14424584.651606975 \
-gcp 2921 4638 2323074.163594371 14076031.80263294 \
-gcp 1465 3974 1352018.1562873241 14478396.3193944 \
-gcp 3761 3514 2951692.2842951487 14826949.168649377 \
-gcp 2779 3834 2246025.6391803175 14630047.383614907 \
-gcp 2873 3136 2309009.750438605 15141869.725383798 \
-gcp 1703 2696 1358133.1185918823 15438445.395216398 \
-gcp 4219 3382 3294741.667232067 14880149.34038277 \
-gcp 2551 4184 2090094.1014716073 14383614.40450443 \
-gcp 2031 3826 1720138.8845504771 14616594.466795156 \
-gcp 1459 3784 1325112.3223031126 14611702.497026116 \
-gcp 2633 2364 2118834.4241137933 15761315.402339775 \
-gcp 2449 4588 2028332.9825406491 14105383.62176781 \
-gcp 1997 2772 1617407.5184795395 15411539.56102002 \
-gcp 2249 2572 1806359.8524770315 15575420.54993579 \
-gcp 1343 3364 1164288.8148398045 14866084.927224722 \
-gcp 1935 3888 1643701.8562444288 14575624.21955525 \
-gcp 3231 3998 2540155.324014721 14506525.145822894 \
-gcp 1973 3722 1664492.727924087 14691197.006504046 \
-gcp 1473 3362 1262128.211044829 14907055.174484354 \
-gcp 2713 2918 2191602.474992574 15290463.30810071 \
-gcp 2789 2220 2227069.256158638 15887283.625309736 \
-gcp 1571 3180 1317774.3676712282 15051368.283774642 \
-gcp 3169 4746 2508563.6936576627 13998847.562423445 \
-gcp 4313 3298 3383408.620035916 14933349.512210716 \
-gcp 1865 2894 1500611.7392528346 15289240.31556304 \
-gcp 1691 4366 1529352.061895016 14229517.355818108 \
-gcp 1895 2708 1529963.5581143473 15462905.24389567 \
-gcp 2995 3690 2376274.3353434736 14737670.719483456 \
-gcp 1651 2690 1314716.8864632908 15439056.890917338 \
-gcp 2077 5320 1821035.7618521252 13639423.49703329 \
-gcp 2205 3474 1828373.716595335 14867919.41603414 \
-gcp 2121 5392 1844884.1147397184 13595395.768957699 \
-gcp 3285 4774 2564003.6767909965 13984918.865075381 \
  ./c21d3a8cff2ff76f.jpg \
  ./c21d3a8cff2ff76f_c969e4bba21381cf.vrt

echo '{"type":"Polygon","coordinates":[[[9.757130023068079,76.06848281590695],[10.086687047933877,76.06916186358254],[10.416244072799676,76.06984087881487],[10.745801097665472,76.0705198616054],[11.075358122531274,76.07119881195557],[11.40491514739707,76.07187772986684],[11.734472172262869,76.07255661534067],[12.064029197128669,76.07323546837853],[12.393586221994466,76.07391428898184],[12.723143246860262,76.07459307715207],[13.052700271726062,76.07527183289068],[13.38225729659186,76.07595055619913],[13.711814321457659,76.07662924707886],[14.041371346323453,76.07730790553131],[14.370928371189255,76.07798653155797],[14.700485396055052,76.07866512516028],[15.03004242092085,76.07934368633968],[15.359599445786646,76.08002221509764],[15.689156470652447,76.08070071143561],[16.018713495518245,76.08137917535504],[16.348270520384045,76.08205760685739],[16.67782754524984,76.0827360059441],[17.00738457011564,76.08341437261664],[17.33694159498144,76.08409270687648],[17.66649861984724,76.08477100872503],[17.996055644713035,76.08544927816376],[18.325612669578835,76.08612751519412],[18.655169694444634,76.08680571981759],[18.984726719310434,76.0874838920356],[19.31428374417623,76.0881620318496],[19.64384076904203,76.08884013926108],[19.973397793907825,76.08951821427144],[20.302954818773625,76.09019625688217],[20.63251184363942,76.0908742670947],[20.96206886850522,76.0915522449105],[21.291625893371016,76.09223019033102],[21.62118291823682,76.0929081033577],[21.95073994310261,76.09358598399201],[22.28029696796841,76.09426383223541],[22.60985399283421,76.09494164808933],[22.93941101770001,76.09561943155524],[23.268968042565806,76.09629718263456],[23.598525067431602,76.09697490132879],[23.92808209229741,76.09765258763935],[24.257639117163208,76.09833024156772],[24.587196142029004,76.0990078631153],[24.9167531668948,76.09968545228362],[25.2463101917606,76.10036300907406],[25.5758672166264,76.10104053348813],[25.905424241492195,76.10171802552723],[26.23498126635799,76.10239548519284],[26.56453829122379,76.10307291248641],[26.894095316089594,76.10375030740941],[27.223652340955386,76.10442766996326],[27.553209365821186,76.10510500014944],[27.882766390686985,76.10578229796936],[28.212323415552785,76.10645956342452],[28.54188044041858,76.10713679651636],[28.871437465284373,76.1078139972463],[29.200994490150176,76.10849116561582],[29.53055151501598,76.10916830162638],[29.86010853988177,76.1098454052794],[30.189665564747568,76.11052247657638],[30.51922258961337,76.1111995155187],[30.848779614479174,76.1118765221079],[30.836103973359265,76.18488024272688],[30.82342833223936,76.25750764248909],[30.810752691119458,76.32976054516367],[30.798077049999552,76.40164076750409],[30.785401408879643,76.47315011924535],[30.77272576775974,76.54429040310188],[30.760050126639843,76.61506341476594],[30.74737448551993,76.68547094290666],[30.73469884440003,76.75551476916954],[30.722023203280127,76.82519666817664],[30.70934756216022,76.89451840752717],[30.696671921040313,76.9634817477987],[30.683996279920414,77.03208844254875],[30.671320638800506,77.1003402383172],[30.658644997680607,77.16823887462881],[30.6459693565607,77.23578608399642],[30.633293715440796,77.30298359192476],[30.62061807432089,77.36983311691444],[30.607942433200986,77.43633637046663],[30.595266792081084,77.50249505708807],[30.582591150961175,77.56831087429659],[30.569915509841277,77.63378551262703],[30.557239868721368,77.69892065563765],[30.544564227601462,77.76371797991679],[30.53188858648156,77.82817915509013],[30.519212945361662,77.89230584382825],[30.506537304241746,77.95609970185464],[30.493861663121848,78.01956237795396],[30.481186022001946,78.08269551398088],[30.46851038088204,78.14550074486911],[30.455834739762132,78.20797969864088],[30.443159098642226,78.27013399641682],[30.430483457522325,78.33196525242592],[30.41780781640242,78.3934750740163],[30.405132175282517,78.45466506166579],[30.39245653416261,78.51553680899328],[30.37978089304271,78.57609190276999],[30.3671052519228,78.63633192293143],[30.354429610802903,78.69625844258935],[30.341753969682994,78.75587302804416],[30.329078328563096,78.81517723879759],[30.316402687443187,78.87417262756564],[30.30372704632328,78.93286074029177],[30.29105140520338,78.99124311616045],[30.278375764083474,79.0493212876108],[30.265700122963565,79.10709678035076],[30.253024481843664,79.16457111337117],[30.240348840723765,79.22174579896046],[30.22767319960385,79.27862234271925],[30.21499755848395,79.33520224357537],[30.202321917364042,79.39148699379912],[30.189646276244144,79.44747807901862],[30.176970635124235,79.50317697823552],[30.164294994004337,79.55858516384077],[30.151619352884428,79.61370410163082],[30.138943711764522,79.66853525082371],[30.12626807064462,79.72308006407567],[30.11359242952472,79.77733998749768],[30.100916788404813,79.83131646067237],[30.088241147284904,79.88501091667092],[30.075565506165006,79.93842478207043],[30.062889865045097,79.99155947697106],[30.0502142239252,80.04441641501373],[30.037538582805283,80.09699700339772],[30.06048018655524,80.09707510377294],[30.083421790305195,80.09715320353834],[30.10636339405515,80.09723130269397],[30.1293049978051,80.09730940123981],[30.152246601555056,80.09738749917587],[30.175188205305012,80.09746559650215],[30.19812980905496,80.09754369321864],[30.221071412804918,80.09762178932539],[30.244013016554874,80.09769988482236],[30.26695462030483,80.09777797970958],[30.28989622405478,80.09785607398705],[30.312837827804735,80.09793416765476],[30.33577943155469,80.09801226071272],[30.35872103530464,80.09809035316094],[30.381662639054596,80.09816844499943],[30.404604242804545,80.09824653622819],[30.42754584655451,80.09832462684722],[30.450487450304458,80.09840271685654],[30.473429054054414,80.09848080625613],[30.496370657804363,80.09855889504601],[30.51931226155432,80.09863698322619],[30.542253865304275,80.09871507079666],[30.565195469054224,80.09879315775743],[30.58813707280418,80.0988712441085],[30.611078676554136,80.09894932984989],[30.634020280304092,80.09902741498159],[30.65696188405404,80.09910549950361],[30.679903487803998,80.09918358341596],[30.702845091553954,80.09926166671863],[30.725786695303903,80.09933974941164],[30.74872829905386,80.09941783149499],[30.771669902803808,80.09949591296868],[30.79461150655377,80.0995739938327],[30.81755311030372,80.0996520740871],[30.840494714053676,80.09973015373185],[30.863436317803625,80.09980823276696],[30.88637792155358,80.09988631119244],[30.909319525303538,80.09996438900828],[30.932261129053487,80.10004246621449],[30.955202732803443,80.10012054281108],[30.9781443365534,80.10019861879806],[31.001085940303355,80.10027669417543],[31.024027544053304,80.10035476894319],[31.04696914780326,80.10043284310137],[31.069910751553216,80.10051091664992],[31.092852355303165,80.10058898958889],[31.11579395905312,80.10066706191829],[31.138735562803078,80.10074513363809],[31.161677166553034,80.10082320474831],[31.184618770302983,80.10090127524896],[31.20756037405293,80.10097934514003],[31.230501977802888,80.10105741442155],[31.253443581552844,80.1011354830935],[31.2763851853028,80.1012135511559],[31.29932678905275,80.10129161860874],[31.322268392802705,80.10136968545206],[31.34520999655266,80.10144775168581],[31.368151600302618,80.10152581731002],[31.391093204052567,80.10160388232471],[31.414034807802523,80.10168194672987],[31.43697641155248,80.10176001052551],[31.459918015302428,80.10183807371163],[31.482859619052384,80.10191613628822],[31.50580122280234,80.10199419825533],[31.503492994972753,80.10829597436519],[31.50118476714318,80.11459377823095],[31.498876539313606,80.12088761228038],[31.496568311484026,80.12717747893997],[31.494260083654453,80.13346338063486],[31.491951855824873,80.13974531978883],[31.4896436279953,80.14602329882433],[31.487335400165726,80.15229732016253],[31.485027172336146,80.15856738622318],[31.48271894450657,80.16483349942474],[31.480410716676996,80.17109566218433],[31.478102488847423,80.17735387691772],[31.475794261017843,80.18360814603938],[31.47348603318827,80.18985847196238],[31.47117780535869,80.19610485709853],[31.468869577529116,80.20234730385826],[31.466561349699543,80.2085858146507],[31.464253121869962,80.21482039188362],[31.461944894040382,80.22105103796346],[31.45963666621081,80.22727775529533],[31.457328438381236,80.23350054628305],[31.455020210551663,80.23971941332906],[31.452711982722082,80.24593435883446],[31.450403754892502,80.25214538519909],[31.44809552706293,80.25835249482138],[31.445787299233356,80.26455569009846],[31.44347907140378,80.2707549734262],[31.441170843574206,80.27695034719902],[31.438862615744625,80.2831418138101],[31.436554387915052,80.28932937565126],[31.434246160085472,80.29551303511303],[31.4319379322559,80.30169279458457],[31.42962970442632,80.30786865645372],[31.427321476596745,80.314040623107],[31.425013248767172,80.32020869692965],[31.42270502093759,80.32637288030553],[31.42039679310802,80.33253317561717],[31.41808856527844,80.33868958524582],[31.415780337448865,80.34484211157141],[31.41347210961929,80.35099075697251],[31.41116388178971,80.35713552382636],[31.408855653960135,80.36327641450896],[31.40654742613056,80.36941343139489],[31.40423919830098,80.37554657685746],[31.40193097047141,80.38167585326867],[31.399622742641835,80.38780126299918],[31.397314514812255,80.39392280841834],[31.39500628698268,80.40004049189416],[31.3926980591531,80.40615431579337],[31.390389831323528,80.41226428248135],[31.388081603493948,80.4183703943222],[31.385773375664375,80.42447265367863],[31.383465147834794,80.43057106291214],[31.381156920005218,80.43666562438284],[31.378848692175648,80.44275634044953],[31.37654046434607,80.44884321346973],[31.374232236516495,80.4549262457996],[31.371924008686918,80.46100543979402],[31.369615780857337,80.46708079780657],[31.367307553027764,80.47315232218948],[31.36499932519819,80.47922001529368],[31.36269109736861,80.4852838794688],[31.36038286953903,80.49134391706315],[31.358074641709457,80.49740013042374],[31.335577422552102,80.49720945391975],[31.31308020339475,80.49701877362486],[31.290582984237396,80.49682808953897],[31.268085765080038,80.49663740166204],[31.24558854592269,80.49644670999395],[31.223091326765328,80.49625601453468],[31.200594107607973,80.4960653152841],[31.17809688845062,80.49587461224219],[31.155599669293267,80.49568390540884],[31.13310245013591,80.495493194784],[31.11060523097856,80.49530248036757],[31.088108011821205,80.49511176215952],[31.06561079266385,80.49492104015974],[31.043113573506492,80.49473031436817],[31.020616354349137,80.49453958478472],[30.99811913519179,80.49434885140933],[30.97562191603443,80.49415811424194],[30.953124696877076,80.49396737328246],[30.93062747771972,80.49377662853082],[30.908130258562363,80.49358587998695],[30.885633039405015,80.49339512765077],[30.863135820247653,80.49320437152222],[30.84063860109031,80.49301361160121],[30.818141381932946,80.49282284788768],[30.79564416277559,80.49263208038154],[30.77314694361824,80.49244130908274],[30.750649724460885,80.49225053399118],[30.728152505303523,80.49205975510681],[30.70565528614618,80.49186897242954],[30.683158066988824,80.49167818595932],[30.660660847831462,80.49148739569604],[30.638163628674114,80.49129660163968],[30.615666409516756,80.49110580379009],[30.5931691903594,80.49091500214728],[30.57067197120205,80.49072419671113],[30.548174752044694,80.49053338748156],[30.525677532887332,80.49034257445852],[30.503180313729985,80.49015175764194],[30.480683094572633,80.48996093703171],[30.45818587541527,80.48977011262781],[30.43568865625792,80.48957928443012],[30.413191437100565,80.48938845243859],[30.39069421794321,80.48919761665314],[30.36819699878585,80.4890067770737],[30.345699779628504,80.48881593370018],[30.32320256047115,80.48862508653254],[30.30070534131379,80.4884342355707],[30.278208122156443,80.48824338081455],[30.25571090299908,80.48805252226406],[30.23321368384173,80.48786165991912],[30.210716464684374,80.48767079377967],[30.18821924552702,80.48747992384567],[30.165722026369664,80.48728905011698],[30.143224807212313,80.4870981725936],[30.12072758805495,80.48690729127541],[30.098230368897603,80.48671640616236],[30.075733149740245,80.48652551725435],[30.05323593058289,80.48633462455133],[30.030738711425535,80.48614372805321],[30.008241492268183,80.48595282775993],[29.98574427311083,80.48576192367142],[29.963247053953474,80.48557101578758],[29.940749834796115,80.48538010410837],[29.91825261563876,80.4851891886337],[29.916901891887328,80.48940215586104],[29.915551168135888,80.49361327482775],[29.914200444384456,80.49782254632196],[29.912849720633016,80.50202997113144],[29.911498996881583,80.5062355500437],[29.910148273130144,80.51043928384597],[29.908797549378704,80.51464117332506],[29.90744682562727,80.51884121926761],[29.906096101875832,80.52303942245989],[29.904745378124392,80.52723578368781],[29.903394654372953,80.53143030373711],[29.90204393062152,80.5356229833931],[29.90069320687008,80.53981382344084],[29.899342483118645,80.5440028246651],[29.897991759367205,80.54818998785028],[29.896641035615772,80.55237531378056],[29.895290311864333,80.55655880323975],[29.8939395881129,80.56074045701139],[29.89258886436146,80.56492027587868],[29.89123814061002,80.56909826062456],[29.88988741685858,80.57327441203164],[29.88853669310714,80.57744873088224],[29.88718596935571,80.58162121795834],[29.88583524560427,80.58579187404166],[29.884484521852837,80.5899606999136],[29.883133798101397,80.59412769635524],[29.881783074349965,80.59829286414738],[29.880432350598525,80.60245620407049],[29.879081626847093,80.60661771690476],[29.877730903095653,80.61077740343008],[29.876380179344213,80.614935264426],[29.875029455592777,80.6190913006718],[29.873678731841338,80.62324551294643],[29.872328008089898,80.62739790202858],[29.870977284338466,80.6315484686966],[29.869626560587026,80.63569721372853],[29.868275836835586,80.63984413790214],[29.866925113084154,80.64398924199489],[29.865574389332714,80.64813252678388],[29.864223665581275,80.65227399304601],[29.862872941829835,80.65641364155779],[29.861522218078402,80.66055147309545],[29.860171494326963,80.66468748843494],[29.85882077057553,80.66882168835187],[29.85747004682409,80.67295407362161],[29.856119323072658,80.67708464501915],[29.85476859932122,80.68121340331922],[29.853417875569786,80.68534034929627],[29.852067151818346,80.68946548372438],[29.85071642806691,80.6935888073774],[29.84936570431547,80.6977103210288],[29.848014980564034,80.70183002545184],[29.8466642568126,80.70594792141944],[29.84531353306116,80.71006400970414],[29.84396280930972,80.71417829107831],[29.842612085558287,80.71829076631394],[29.841261361806847,80.72240143618271],[29.839910638055407,80.72651030145606],[29.838559914303975,80.73061736290506],[29.837209190552535,80.73472262130055],[29.835858466801096,80.73882607741298],[29.834507743049656,80.74292773201255],[29.833157019298223,80.74702758586918],[29.831806295546784,80.75112563975246],[29.5021900645865,80.75086665997148],[29.17257383362622,80.75060767300184],[28.842957602665933,80.75034867884337],[28.513341371705653,80.75008967749584],[28.18372514074537,80.74983066895909],[27.85410890978509,80.74957165323292],[27.5244926788248,80.74931263031714],[27.19487644786452,80.74905360021152],[26.865260216904232,80.74879456291592],[26.535643985943953,80.7485355184301],[26.20602775498367,80.7482764667539],[25.876411524023382,80.7480174078871],[25.5467952930631,80.74775834182951],[25.21717906210282,80.74749926858095],[24.88756283114253,80.74724018814122],[24.557946600182245,80.74698110051013],[24.228330369221965,80.74672200568745],[23.89871413826168,80.74646290367302],[23.5690979073014,80.74620379446665],[23.239481676341114,80.74594467806813],[22.90986544538083,80.74568555447726],[22.58024921442055,80.74542642369387],[22.250632983460264,80.74516728571777],[21.921016752499977,80.74490814054872],[21.591400521539697,80.74464898818657],[21.261784290579413,80.74438982863109],[20.93216805961913,80.74413066188211],[20.602551828658846,80.74387148793944],[20.27293559769856,80.74361230680287],[19.943319366738276,80.74335311847221],[19.613703135777993,80.74309392294727],[19.28408690481771,80.74283472022786],[18.954470673857422,80.74257551031377],[18.624854442897146,80.74231629320481],[18.29523821193686,80.74205706890079],[17.96562198097658,80.74179783740152],[17.63600575001629,80.7415385987068],[17.30638951905601,80.74127935281645],[16.976773288095725,80.74102009973024],[16.64715705713544,80.740760839448],[16.317540826175154,80.74050157196955],[15.987924595214876,80.74024229729466],[15.65830836425459,80.73998301542316],[15.328692133294306,80.73972372635484],[14.999075902334024,80.73946443008954],[14.669459671373742,80.73920512662701],[14.339843440413457,80.73894581596711],[14.010227209453173,80.73868649810962],[13.680610978492888,80.73842717305435],[13.350994747532605,80.73816784080108],[13.021378516572321,80.73790850134965],[12.691762285612038,80.73764915469985],[12.362146054651753,80.7373898008515],[12.03252982369147,80.7371304398044],[11.702913592731187,80.73687107155834],[11.373297361770902,80.73661169611314],[11.043681130810619,80.7363523134686],[10.714064899850337,80.73609292362453],[10.384448668890053,80.73583352658072],[10.054832437929768,80.73557412233698],[9.725216206969487,80.73531471089316],[9.395599976009203,80.73505529224902],[9.065983745048918,80.73479586640435],[8.736367514088634,80.73453643335898],[9.757130023068079,76.06848281590695]]]}' > ./c21d3a8cff2ff76f_c969e4bba21381cf.geojson

gdalwarp \
  -of COG -co COMPRESS=JPEG -co QUALITY=75 \
  -dstalpha -overwrite \
  -r cubic \
  -cutline ./c21d3a8cff2ff76f_c969e4bba21381cf.geojson -crop_to_cutline -cutline_srs "EPSG:4326" \
  -s_srs 'EPSG:3857' \
  -t_srs 'PROJCS["ETRS89 / EPSG Arctic zone 3-11",GEOGCS["ETRS89",DATUM["European_Terrestrial_Reference_System_1989",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6258"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4258"]],PROJECTION["Lambert_Conformal_Conic_2SP"],PARAMETER["latitude_of_origin",78.7073375277778],PARAMETER["central_meridian",21],PARAMETER["standard_parallel_1",80.3333333333333],PARAMETER["standard_parallel_2",77],PARAMETER["false_easting",11500000],PARAMETER["false_northing",3500000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","6070"]]' \
  -ts 3903 3581 \
  -order 1 \
  ./c21d3a8cff2ff76f_c969e4bba21381cf.vrt \
  ./c21d3a8cff2ff76f_c969e4bba21381cf-warped.tif

gdalbuildvrt ./c21d3a8cff2ff76f_c969e4bba21381cf.vrt \
  ./c21d3a8cff2ff76f_c969e4bba21381cf-warped.tif
