# @allmaps/annotation

@allmaps/annotation is a JavaScript module that can generate and parse [Georeference Annotations](https://iiif.io/api/extension/georef/).

A georeference annotation is a [Web Annotation](https://www.w3.org/TR/annotation-model/) that stores the metadata needed to [georeference](https://en.wikipedia.org/wiki/Georeferencing) a [IIIF image](https://iiif.io/api/image/3.0/).

A Georeference Annotation contains the following data:

*   The [URI of an IIIF Image](https://iiif.io/api/image/3.0/#3-identifier), as well as its dimensions in pixels.
*   A list of ground control points (GCPs) that define the mapping between resource coordinates and geospatial coordinates.
*   A polygonal resource mask that defines the cartographic part of the image.

Georeference Annotations are a core part of [Allmaps](https://allmaps.org). For example, [Allmaps Viewer](https://viewer.allmaps.org/#data=data%3Atext%2Fx-url%2Chttps%3A%2F%2Fraw.githubusercontent.com%2Fallmaps%2Fannotation%2Fdevelop%2Fexamples%2Fannotation.example.json) can warp maps IIIF maps in the browser, just by loading a georeference annotation.

<!-- TODO: create Observable notebook that allows you to try out this module! -->

## Installation & usage

This is an ESM-only module that works in browsers or in Node.js.

Node.js:

First, run `npm install @allmaps/annotation` to add this module to your project.

```js
import { parseAnnotation, generateAnnotation } from '@allmaps/annotation'
```

Browser:

```html
<script type="module">
  import {
    parseAnnotation,
    generateAnnotation
  } from 'https://unpkg.com/@allmaps/annotation?module'
</script>
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [Generating & parsing georeference annotations](#generating--parsing-georeference-annotations)
*   [Types](#types)

### Generating & parsing georeference annotations



### Types

The two types this module converts between, [Annotation](#annotation) and [Map](#map), are described below.
